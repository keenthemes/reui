{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "avatar-group",
  "type": "registry:ui",
  "dependencies": ["motion"],
  "files": [
    {
      "path": "registry/default/ui/avatar-group.tsx",
      "content": "'use client';\n\nimport * as React from 'react';\nimport { AnimatePresence, Easing, motion, useMotionValue, useSpring, useTransform } from 'motion/react';\nimport { cn } from '@/lib/utils';\n\ntype AnimationVariantType = 'spring' | 'tween' | 'inertia' | 'decay' | 'keyframes';\ntype AnimationType = 'default' | 'flip' | 'reveal';\n\ninterface AvatarGroupContextValue {\n  tooltipClassName?: string;\n  animation?: 'default' | 'flip' | 'reveal';\n}\n\nconst AvatarGroupContext = React.createContext<AvatarGroupContextValue | null>(null);\n\ninterface AvatarGroupProps {\n  children: React.ReactNode;\n  className?: string;\n  tooltipClassName?: string;\n  animation?: AnimationType;\n}\n\ninterface AvatarGroupItemProps {\n  children: React.ReactNode;\n  className?: string;\n  tooltipClassName?: string;\n  animation?: AnimationType;\n}\n\ninterface AvatarGroupTooltipProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst StaggeredContent = ({ content }: { content: React.ReactNode }) => {\n  const children = React.Children.toArray(content);\n  return (\n    <motion.div\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={{\n        animate: { transition: { staggerChildren: 0.08 } },\n      }}\n    >\n      {children.map((child, i) => (\n        <motion.div\n          key={i}\n          variants={{\n            initial: { opacity: 0, y: 20 },\n            animate: { opacity: 1, y: 0, transition: { duration: 0.3, ease: 'easeOut' } },\n            exit: { opacity: 0, y: -20, transition: { duration: 0.2, ease: 'easeIn' } },\n          }}\n        >\n          {child}\n        </motion.div>\n      ))}\n    </motion.div>\n  );\n};\n\nexport function AvatarGroup({ children, className, tooltipClassName, animation = 'default' }: AvatarGroupProps) {\n  const contextValue: AvatarGroupContextValue = {\n    tooltipClassName,\n    animation,\n  };\n\n  return (\n    <AvatarGroupContext.Provider value={contextValue}>\n      <div className={cn('flex -space-x-2.5', className)}>{children}</div>\n    </AvatarGroupContext.Provider>\n  );\n}\n\nexport function AvatarGroupItem({\n  children,\n  className,\n  tooltipClassName,\n  animation: itemAnimation,\n}: AvatarGroupItemProps) {\n  const context = React.useContext(AvatarGroupContext);\n  const [hoveredIndex, setHoveredIndex] = React.useState<boolean>(false);\n  const springConfig = { stiffness: 100, damping: 5 };\n  const x = useMotionValue(0);\n\n  const animation = itemAnimation || context?.animation || 'default';\n  const finalTooltipClassName = tooltipClassName || context?.tooltipClassName;\n\n  // rotate the tooltip\n  const rotate = useSpring(useTransform(x, [-100, 100], [-45, 45]), springConfig);\n  // translate the tooltip\n  const translateX = useSpring(useTransform(x, [-100, 100], [-50, 50]), springConfig);\n\n  // Extract tooltip from children\n  const tooltipChild = React.Children.toArray(children).find(\n    (child) => React.isValidElement(child) && child.type === AvatarGroupTooltip,\n  );\n\n  const otherChildren = React.Children.toArray(children).filter(\n    (child) => !(React.isValidElement(child) && child.type === AvatarGroupTooltip),\n  );\n\n  const tooltipContent =\n    tooltipChild && React.isValidElement(tooltipChild)\n      ? (tooltipChild.props as AvatarGroupTooltipProps).children\n      : null;\n\n  const handleMouseMove = (event: React.MouseEvent) => {\n    const halfWidth = (event.target as HTMLElement).offsetWidth / 2;\n    x.set((event.nativeEvent as MouseEvent).offsetX - halfWidth);\n  };\n\n  const animationVariants = {\n    default: {\n      initial: { opacity: 0, y: 20, scale: 0.6 },\n      animate: {\n        opacity: 1,\n        y: 0,\n        scale: 1,\n        transition: {\n          type: 'spring' as AnimationVariantType,\n          stiffness: 260,\n          damping: 10,\n        },\n      },\n      exit: {\n        opacity: 0,\n        y: 20,\n        scale: 0.6,\n        transition: {\n          duration: 0.2,\n          ease: 'easeInOut' as Easing,\n        },\n      },\n    },\n    flip: {\n      initial: { opacity: 0, rotateX: -90 },\n      animate: {\n        opacity: 1,\n        rotateX: 0,\n        transition: {\n          type: 'spring' as AnimationVariantType,\n          stiffness: 180,\n          damping: 25,\n        },\n      },\n      exit: {\n        opacity: 0,\n        rotateX: -90,\n        transition: {\n          duration: 0.3,\n          ease: 'easeInOut' as Easing,\n        },\n      },\n    },\n    reveal: {\n      initial: { opacity: 0, scale: 0.95 },\n      animate: { opacity: 1, scale: 1, transition: { duration: 0.15, ease: 'easeOut' as Easing } },\n      exit: { opacity: 0, scale: 0.95, transition: { duration: 0.1, ease: 'easeIn' as Easing } },\n    },\n  };\n\n  const selectedVariant = animationVariants[animation];\n\n  return (\n    <div\n      className={cn('group relative', className)}\n      onMouseEnter={() => setHoveredIndex(true)}\n      onMouseLeave={() => setHoveredIndex(false)}\n    >\n      <AnimatePresence mode=\"wait\">\n        {hoveredIndex && tooltipContent && (\n          <motion.div\n            initial={selectedVariant.initial}\n            animate={selectedVariant.animate}\n            exit={selectedVariant.exit}\n            style={{\n              translateX: animation === 'reveal' ? 0 : translateX,\n              rotate: animation === 'reveal' ? 0 : rotate,\n              whiteSpace: 'nowrap',\n              transformOrigin: 'center',\n            }}\n            className={cn(\n              'absolute -top-16 left-1/2 z-50 flex -translate-x-1/2 flex-col items-center justify-center rounded-md bg-black px-4 py-2 text-xs font-medium text-white shadow-xl',\n              finalTooltipClassName,\n            )}\n          >\n            <motion.div\n              className=\"absolute inset-x-10 -bottom-px z-30 h-px w-[20%] bg-gradient-to-r from-transparent via-emerald-500 dark:via-emerald-900 to-transparent\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={{ duration: 0.15 }}\n            />\n            <motion.div\n              className=\"absolute -bottom-px left-10 z-30 h-px w-[40%] bg-gradient-to-r from-transparent via-sky-500 dark:via-sky-900 to-transparent\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={{ duration: 0.15 }}\n            />\n            {animation === 'reveal' ? <StaggeredContent content={tooltipContent} /> : tooltipContent}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      <motion.div\n        className=\"relative cursor-pointer\"\n        whileHover={{\n          zIndex: 30,\n        }}\n        whileTap={{ scale: 0.95 }}\n        transition={{\n          duration: 0.5,\n        }}\n        onMouseMove={handleMouseMove}\n      >\n        {otherChildren}\n      </motion.div>\n    </div>\n  );\n}\n\nexport function AvatarGroupTooltip({ children, className }: AvatarGroupTooltipProps) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20, scale: 0.6 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      transition={{ duration: 0.15 }}\n      className={cn('hidden relative z-30', className)}\n    >\n      {children}\n    </motion.div>\n  );\n}\n",
      "type": "registry:ui"
    }
  ]
}
